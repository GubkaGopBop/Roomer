# Roomer - Система веб-авторизации и личного кабинета

## Описание проекта
Веб-платформа для управления игровым аккаунтом.
Позволяет пользователям регистрироваться, входить в систему, управлять профилем и просматривать игровую статистику.

## Технологический стек
- Frontend: HTML, CSS3, JavaScript
- Backend: Node.js
- База данных: SQLite
- Безопасность: bcrypt, JWT, TOTP

## Основные функции
- Регистрация с автоматической генерацией игрового профиля
- Авторизация с поддержкой 2FA
- Восстановление доступа через email
- Управление профилем
- Просмотр игровой статистики и достижений

## Установка и запуск
```bash
npm install
npm start
```

## Лицензия
MIT License

## Инструкция пользователя
### Регистрация нового аккаунта
Для создания нового аккаунта откройте страницу регистрации в браузере. В поле ‘‘Адрес электронной почты’’ введите действующий адрес электронной почты. Этот адрес будет использоваться для входа в систему и восстановления доступа при утрате пароля. Система автоматически проверит формат адреса и отобразит сообщение об ошибке, если формат некорректен.
В поле ‘‘Пароль’’ введите пароль. Пароль должен содержать не менее восьми символов, включая заглавные и строчные буквы латинского алфавита, цифры. Под полем отображаются требования к паролю с индикацией выполнения каждого требования. Зелёная галочка появляется рядом с выполненным требованием, серый крестик рядом с невыполненным. В поле ‘‘Подтвердите пароль’’ повторно введите тот же пароль. Нажмите кнопку ‘‘Создать аккаунт’’. Кнопка будет активна только при заполнении всех полей и соблюдении всех требований валидации.
При успешной регистрации система автоматически создаёт полноценный игровой профиль с персонализированными данными. Профиль включает игровую статистику (уровень персонажа от 1 до 100, рейтинг, количество побед, время в игре), набор достижений различной редкости и историю покупок внутриигровых предметов. Вы будете автоматически авторизованы в системе и перенаправлены в личный кабинет.
### Вход в аккаунт
Для входа в существующий аккаунт откройте страницу входа. Введите адрес электронной почты, указанный при регистрации, в соответствующее поле. Введите пароль в поле ‘‘Пароль’’. При желании установите переключатель ‘‘Запомнить меня’’ для продления сеанса до 7 дней. Если переключатель не установлен, сеанс будет действителен 24 часа. Нажмите кнопку ‘‘Войти’’.
Если у вас включена двухфакторная аутентификация, форма обновится и отобразится дополнительное поле для ввода кода подтверждения. Появится сообщение ‘‘Введите 6-значный код из приложения-аутентификатора’’. Откройте приложение-аутентификатор на мобильном устройстве, найдите запись ‘‘Roomer’’ и просмотрите текущий шестизначный код. Введите код в поле на странице входа. Обратите внимание, что код обновляется каждые 30 секунд, поэтому вводите его оперативно. Нажмите кнопку ‘‘Подтвердить код’’. После успешного входа вы будете перенаправлены в личный кабинет.
### Восстановление доступа
Если вы забыли пароль, на странице входа нажмите ссылку ‘‘Забыли пароль?’’ под кнопкой входа. Введите адрес электронной почты, связанный с вашим аккаунтом, в поле. Нажмите кнопку ‘‘Отправить ссылку восстановления’’. Откройте почтовый ящик и найдите письмо от Roomer с темой ‘‘Восстановление доступа к аккаунту Roomer’’. Перейдите по ссылке в письме. Обратите внимание, что ссылка действительна в течение 1 часа.
На открывшейся странице введите новый пароль в поле ‘‘Новый пароль’’. Пароль должен соответствовать требованиям безопасности. Подтвердите новый пароль, введя его повторно в поле ‘‘Подтвердите пароль’’. Нажмите кнопку ‘‘Установить новый пароль’’. После успешного изменения вы будете перенаправлены на страницу входа с сообщением ‘‘Пароль успешно изменён. Войдите с новым паролем’’. Войдите в систему, используя адрес электронной почты и новый пароль.
### Включение двухфакторной аутентификации
Для повышения безопасности аккаунта рекомендуется включить двухфакторную аутентификацию. Войдите в личный кабинет, перейдите в раздел ‘‘Настройки’’ через верхнее меню навигации, выберите вкладку ‘‘Безопасность’’. Найдите блок ‘‘Двухфакторная аутентификация’’ и нажмите кнопку ‘‘Включить 2FA’’. Откроется модальное окно с инструкциями по настройке.
Загрузите приложение-аутентификатор на мобильное устройство, если ещё не установлено (Google Authenticator, Microsoft Authenticator или Authy). Откройте приложение-аутентификатор и выберите опцию ‘‘Добавить аккаунт’’ или ‘‘Сканировать QR код’’. Наведите камеру мобильного устройства на QR код, отображённый на экране компьютера. Приложение автоматически распознает код и добавит новую запись.
После добавления приложение начнёт генерировать 6-значные коды, обновляющиеся каждые 30 секунд. Введите текущий код из приложения в поле в модальном окне на сайте. Нажмите кнопку ‘‘Подтвердить и активировать’’. Если код введён правильно, двухфакторная аутентификация будет активирована. При следующих входах в систему после ввода email и пароля вам будет требоваться вводить код из приложения-аутентификатора.
### Изменение никнейма
Для изменения никнейма в личном кабинете перейдите в раздел ‘‘Профиль’’ через меню навигации. Найдите секцию ‘‘Игровой никнейм’’. Проверьте, доступно ли изменение (изменение никнейма возможно только раз в 30 дней). Если изменение доступно, введите новый никнейм в поле (никнейм должен содержать от 3 до 20 символов и может включать буквы, цифры, дефисы, подчёркивания). Нажмите кнопку ‘‘Сохранить никнейм’’. Система проверит уникальность никнейма, если никнейм доступен и прошло более 30 дней с последнего изменения, никнейм будет обновлён.
